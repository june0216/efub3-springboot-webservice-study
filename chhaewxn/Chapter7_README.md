# Chapter7. AWS에 데이터베이스 환경을 만들어보자 - AWS RDS

## 실습_AWS RDS
### ☑️ Amazon RDS
- 클라우드에서 관계형 데이터베이스를 간편하게 설정, 운영 및 확장
- 하드웨어 프로비저닝, 데이터베이스 설정, 패치 및 백업과 같은 시간 소모적인 관리 작업을 자동화하면서,
- 비용 효율적이고 크기 조정 가능한 용량을 제공
- 사용자가 애플리케이션에 집중해 애플리케이션에 필요한 빠른 성능, 고가용성, 보안 및 호환성을 제공

#### 1. RDS 인스턴스 생성
1.2 DB 종류 선택 
- MySQL

1.3 DB 설정 입력 
- 데이터베이스 이름, 마스터 이름, 비밀번호 입력(실제 DB에 접근할 때 사용할 정보)

1.4 스토리지 설정
- 병용 SSD(프로비전된 SSD 사용시 과금), 스토리지 자동 조정 활성화는 해제 할 것

1.5 보안그룹 설정 
- 퍼블릭 액세스 설정 후 새 VPC 보안 그룹 설정

1.6 추가 구성 
- 자동 백업 활성화 해제

#### 2. 현재 보안그룹 확인 
- 보안 그룹 ID를 클릭

2.1 RDS 인바운드 규칙에 EC2 보안 그룹 ID 입력 
- 인바운드 규칙 편집
- 보안 그룹 첫 번째 줄: 현재 내 PC의 IP를 등록
- 보안 그룹 두 번째 줄: EC2의 보안 그룹을 추가 

#### 3. 파라미터 그룹 설정
3.1 파라미터 그룹 생성
3.2 Time Zone 
- Asia/Seoul로 설정

3.3 Character Set
- utf8mb4로 설정
➕utf8과 utfmb4의 차이는 이모지 저장 가능 여부

3.4 Max Connection 
- 150으로 설정

3.5 최종 변경 사항 정리
3.6 RDS 파라미터 그룹 변경
- RDS 인스턴스 이동 ➡️ 수정 

#### 4. 접속 테스트 
- 엔드포인트 및 포트 확인 

4.1 로컬 PC접속 테스트
- Hostname: RDS 엔드포인트
- Username: RDS 생성 시 입력했던 정보
- Password: RDS 생성 시 입력했던 정보 

4.2 EC2에서 접속 
- ubuntu에서 MySQL 설치
```linux
sudo apt-get update
sudo apt-get install mysql-server
```

- Mysql 명령어로 접속 시도 
```
mysql -u {유저이름} -p --host {엔드포인트}
```

### 삭제하기
1.1 EC2 중지
1.2 EC2 삭제 

#### 2. EIP 삭제 
- EIP(탄력적 IP)는 사용하지 않을 시 과금 
- 작업 ➡️ 탄력적 IP 주소 릴리스 

#### 3. 키페어 삭제 
- 작업 ➡️ 삭제

#### 4. RDS 삭제 
- 작업 ➡️ 삭제 
- 최종 스냅샷 생성 체크 해제
(체크 해제를 하지 않고 삭제했을 때, 스냅샷 카테고리에서 삭제)

